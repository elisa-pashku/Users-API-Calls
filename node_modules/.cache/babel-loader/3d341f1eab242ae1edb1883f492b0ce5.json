{"ast":null,"code":"var _jsxFileName = \"/Users/elisapashku/Desktop/React/api_call/src/Components/SingleUser.js\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport { Card, Container, Button } from \"react-bootstrap\";\nimport \"../UserForm.css\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport UserForm from \"./UserForm\";\nexport default function SingleUser(props) {\n  // Get the id of the specific user\n  const {\n    id\n  } = useParams();\n  const [user, setUser] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [formLoading, setFormLoading] = useState(false);\n  const [error, setError] = useState();\n  const [editing, setEditing] = useState(false);\n  const history = useHistory(); //Call the API\n\n  useLayoutEffect(() => {\n    setLoading(true);\n    fetch(`https://jsonplaceholder.typicode.com/users/${id}`).then(response => response.json()).then(json => setUser(json)).catch(err => {\n      setError(err);\n      setLoading(false);\n    }).finally(() => setLoading(false));\n  }, [id]);\n\n  function handleEdit() {\n    setEditing(true);\n  }\n\n  function handleSubmitEdit(user) {\n    setFormLoading(true);\n    fetch(`https://jsonplaceholder.typicode.com/users/${user.id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        id: user.id,\n        name: user.name,\n        username: user.username,\n        email: user.email,\n        website: user.website,\n        phone: user.phone\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    }).then(response => response.json()).then(json => {\n      setUser(json);\n      setEditing(false);\n    }).catch(err => setError(err)).finally(() => setFormLoading(false));\n  }\n\n  function handleCancel() {\n    history.goBack();\n    setEditing(false);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }\n    }, error.message);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    }, \"...Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"container \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, editing ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserForm, {\n    initialValues: {\n      id: user.id,\n      name: user.name,\n      username: user.username,\n      email: user.email,\n      website: user.website,\n      phone: user.phone\n    },\n    handleSubmit: handleSubmitEdit,\n    isLoading: loading,\n    status: \"edit\",\n    handleCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"I am \", user.name), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, user.username), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, user.website), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, user.email), /*#__PURE__*/React.createElement(Card.Footer, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, user.phone), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Edit\")))));\n}","map":{"version":3,"sources":["/Users/elisapashku/Desktop/React/api_call/src/Components/SingleUser.js"],"names":["React","useLayoutEffect","useState","Card","Container","Button","useParams","Link","useHistory","UserForm","SingleUser","props","id","user","setUser","loading","setLoading","formLoading","setFormLoading","error","setError","editing","setEditing","history","fetch","then","response","json","catch","err","finally","handleEdit","handleSubmitEdit","method","body","JSON","stringify","name","username","email","website","phone","headers","handleCancel","goBack","message"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useState } from \"react\";\nimport { Card, Container, Button } from \"react-bootstrap\";\nimport \"../UserForm.css\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport UserForm from \"./UserForm\";\n\nexport default function SingleUser(props) {\n  // Get the id of the specific user\n  const { id } = useParams();\n  const [user, setUser] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [formLoading, setFormLoading] = useState(false);\n  const [error, setError] = useState();\n  const [editing, setEditing] = useState(false);\n\n  const history = useHistory();\n\n  //Call the API\n  useLayoutEffect(() => {\n    setLoading(true);\n    fetch(`https://jsonplaceholder.typicode.com/users/${id}`)\n      .then((response) => response.json())\n      .then((json) => setUser(json))\n      .catch((err) => {\n        setError(err);\n        setLoading(false);\n      })\n      .finally(() => setLoading(false));\n  }, [id]);\n\n  function handleEdit() {\n    setEditing(true);\n  }\n\n  function handleSubmitEdit(user) {\n    setFormLoading(true);\n\n    fetch(`https://jsonplaceholder.typicode.com/users/${user.id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        id: user.id,\n        name: user.name,\n        username: user.username,\n        email: user.email,\n        website: user.website,\n        phone: user.phone,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        setUser(json);\n        setEditing(false);\n      })\n      .catch((err) => setError(err))\n      .finally(() => setFormLoading(false));\n  }\n\n  function handleCancel() {\n    history.goBack();\n    setEditing(false);\n  }\n\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n  if (loading) {\n    return <div>...Loading...</div>;\n  }\n\n  return (\n    <Container className=\"container \">\n      <Card className=\"text-center\">\n        {editing ? (\n          <>\n            <Card.Body>\n              <UserForm\n                initialValues={{\n                  id: user.id,\n                  name: user.name,\n                  username: user.username,\n                  email: user.email,\n                  website: user.website,\n                  phone: user.phone,\n                }}\n                handleSubmit={handleSubmitEdit}\n                isLoading={loading}\n                status=\"edit\"\n                handleCancel={handleCancel}\n              />\n            </Card.Body>\n          </>\n        ) : (\n          <>\n            <Card.Header>I am {user.name}</Card.Header>\n            <Card.Body>\n              <Card.Title>{user.username}</Card.Title>\n              <Card.Text>{user.website}</Card.Text>\n              <Card.Text>{user.email}</Card.Text>\n              <Card.Footer className=\"text-muted\">{user.phone}</Card.Footer>\n              <Button variant=\"info\" onClick={handleEdit}>\n                Edit\n              </Button>\n            </Card.Body>\n          </>\n        )}\n      </Card>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}