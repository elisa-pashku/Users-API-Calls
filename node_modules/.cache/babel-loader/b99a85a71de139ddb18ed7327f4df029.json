{"ast":null,"code":"var _jsxFileName = \"/Users/elisapashku/Desktop/React/api_call/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport UsersList from \"./Components/UsersList\";\nimport UserForm from \"./Components/UserForm\";\nimport SingleUser from \"./Components/SingleUser\";\n\nfunction App() {\n  const [error, setError] = useState(null);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    props.getUsers();\n  }, []);\n\n  function getUsers() {\n    fetch(\"https://jsonplaceholder.typicode.com/users\").then(res => res.json()).then(results => {\n      setUsers(results);\n    }).catch(error => {\n      setError(error);\n    }).finally(() => setLoadingUsers(false));\n  }\n\n  function handleDetails(id) {}\n\n  function handleDelete(id) {\n    setUsers(isDeletingUser(id, true));\n    fetch(`https://jsonplaceholder.typicode.com/users/${id}`, {\n      method: \"DELETE\"\n    }).then(() => {\n      getUsers();\n    }).catch(err => {\n      setUsers(isDeletingUser(id, false));\n    });\n  }\n\n  function isDeletingUser(id, loadingDelete) {\n    const newUsers = users.map(p => [...p]);\n    const index = users.findIndex(user => user.id === id);\n    newUsers[index].isLoadingDelete = loadingDelete;\n    return newUsers;\n  }\n\n  function handleCreation(data) {\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: data.name,\n        username: data.username,\n        email: data.email,\n        website: data.website,\n        phone: data.phone\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UsersList, {\n    error: error,\n    setError: setError,\n    loadingUsers: loadingUsers,\n    setLoadingUsers: setLoadingUsers,\n    users: users,\n    setUsers: setUsers,\n    getUsers: getUsers,\n    handleDelete: handleDelete,\n    isDeletingUser: isDeletingUser,\n    handleDetails: handleDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UserForm, {\n    initialValues: {\n      firstName: \"\",\n      username: \"\",\n      email: \"\",\n      website: \"\",\n      phone: \"\"\n    },\n    handleSubmit: handleCreation,\n    status: \"create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/details/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SingleUser, {\n    key: user.id,\n    user: user,\n    isLoadingDelete: user.isLoadingDelete,\n    handleDelete: handleDelete,\n    initialValues: {\n      name: user.name,\n      username: user.username,\n      email: user.email,\n      website: user.website,\n      phone: user.phone\n    },\n    status: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), \"/>\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/elisapashku/Desktop/React/api_call/src/App.js"],"names":["React","useEffect","useState","BrowserRouter","Router","Route","Switch","UsersList","UserForm","SingleUser","App","error","setError","loadingUsers","setLoadingUsers","users","setUsers","props","getUsers","fetch","then","res","json","results","catch","finally","handleDetails","id","handleDelete","isDeletingUser","method","err","loadingDelete","newUsers","map","p","index","findIndex","user","isLoadingDelete","handleCreation","data","body","JSON","stringify","name","username","email","website","phone","headers","firstName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAO,WAAP;AAEA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,QAAuD,kBAAvD;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,KAAK,CAACC,QAAN;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,QAAT,GAAoB;AAClBC,IAAAA,KAAK,CAAC,4CAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,OAAD,IAAa;AACjBP,MAAAA,QAAQ,CAACO,OAAD,CAAR;AACD,KAJH,EAKGC,KALH,CAKUb,KAAD,IAAW;AAChBC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAPH,EAQGc,OARH,CAQW,MAAMX,eAAe,CAAC,KAAD,CARhC;AASD;;AAED,WAASY,aAAT,CAAuBC,EAAvB,EAA2B,CAAE;;AAE7B,WAASC,YAAT,CAAsBD,EAAtB,EAA0B;AACxBX,IAAAA,QAAQ,CAACa,cAAc,CAACF,EAAD,EAAK,IAAL,CAAf,CAAR;AACAR,IAAAA,KAAK,CAAE,8CAA6CQ,EAAG,EAAlD,EAAqD;AACxDG,MAAAA,MAAM,EAAE;AADgD,KAArD,CAAL,CAGGV,IAHH,CAGQ,MAAM;AACVF,MAAAA,QAAQ;AACT,KALH,EAMGM,KANH,CAMUO,GAAD,IAAS;AACdf,MAAAA,QAAQ,CAACa,cAAc,CAACF,EAAD,EAAK,KAAL,CAAf,CAAR;AACD,KARH;AASD;;AAED,WAASE,cAAT,CAAwBF,EAAxB,EAA4BK,aAA5B,EAA2C;AACzC,UAAMC,QAAQ,GAAGlB,KAAK,CAACmB,GAAN,CAAWC,CAAD,IAAO,CAAC,GAAGA,CAAJ,CAAjB,CAAjB;AACA,UAAMC,KAAK,GAAGrB,KAAK,CAACsB,SAAN,CAAiBC,IAAD,IAAUA,IAAI,CAACX,EAAL,KAAYA,EAAtC,CAAd;AACAM,IAAAA,QAAQ,CAACG,KAAD,CAAR,CAAgBG,eAAhB,GAAkCP,aAAlC;AACA,WAAOC,QAAP;AACD;;AAED,WAASO,cAAT,CAAwBC,IAAxB,EAA8B;AAC5BtB,IAAAA,KAAK,CAAC,4CAAD,EAA+C;AAClDW,MAAAA,MAAM,EAAE,MAD0C;AAElDY,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,IAAI,EAAEJ,IAAI,CAACI,IADQ;AAEnBC,QAAAA,QAAQ,EAAEL,IAAI,CAACK,QAFI;AAGnBC,QAAAA,KAAK,EAAEN,IAAI,CAACM,KAHO;AAInBC,QAAAA,OAAO,EAAEP,IAAI,CAACO,OAJK;AAKnBC,QAAAA,KAAK,EAAER,IAAI,CAACQ;AALO,OAAf,CAF4C;AASlDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AATyC,KAA/C,CAAL;AAaD;;AACD,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEvC,KADT;AAEE,IAAA,QAAQ,EAAEC,QAFZ;AAGE,IAAA,YAAY,EAAEC,YAHhB;AAIE,IAAA,eAAe,EAAEC,eAJnB;AAKE,IAAA,KAAK,EAAEC,KALT;AAME,IAAA,QAAQ,EAAEC,QANZ;AAOE,IAAA,QAAQ,EAAEE,QAPZ;AAQE,IAAA,YAAY,EAAEU,YARhB;AASE,IAAA,cAAc,EAAEC,cATlB;AAUE,IAAA,aAAa,EAAEH,aAVjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAeE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,aAAa,EAAE;AACbyB,MAAAA,SAAS,EAAE,EADE;AAEbL,MAAAA,QAAQ,EAAE,EAFG;AAGbC,MAAAA,KAAK,EAAE,EAHM;AAIbC,MAAAA,OAAO,EAAE,EAJI;AAKbC,MAAAA,KAAK,EAAE;AALM,KADjB;AAQE,IAAA,YAAY,EAAET,cARhB;AASE,IAAA,MAAM,EAAC,QATT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,eA4BE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,GAAG,EAAEF,IAAI,CAACX,EADZ;AAEE,IAAA,IAAI,EAAEW,IAFR;AAGE,IAAA,eAAe,EAAEA,IAAI,CAACC,eAHxB;AAIE,IAAA,YAAY,EAAEX,YAJhB;AAKE,IAAA,aAAa,EAAE;AACbiB,MAAAA,IAAI,EAAEP,IAAI,CAACO,IADE;AAEbC,MAAAA,QAAQ,EAAER,IAAI,CAACQ,QAFF;AAGbC,MAAAA,KAAK,EAAET,IAAI,CAACS,KAHC;AAIbC,MAAAA,OAAO,EAAEV,IAAI,CAACU,OAJD;AAKbC,MAAAA,KAAK,EAAEX,IAAI,CAACW;AALC,KALjB;AAYE,IAAA,MAAM,EAAC,MAZT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,OA5BF,CADF,CADF;AAkDD;;AAED,eAAevC,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport UsersList from \"./Components/UsersList\";\nimport UserForm from \"./Components/UserForm\";\nimport SingleUser from \"./Components/SingleUser\";\n\nfunction App() {\n  const [error, setError] = useState(null);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    props.getUsers();\n  }, []);\n\n  function getUsers() {\n    fetch(\"https://jsonplaceholder.typicode.com/users\")\n      .then((res) => res.json())\n      .then((results) => {\n        setUsers(results);\n      })\n      .catch((error) => {\n        setError(error);\n      })\n      .finally(() => setLoadingUsers(false));\n  }\n\n  function handleDetails(id) {}\n\n  function handleDelete(id) {\n    setUsers(isDeletingUser(id, true));\n    fetch(`https://jsonplaceholder.typicode.com/users/${id}`, {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        getUsers();\n      })\n      .catch((err) => {\n        setUsers(isDeletingUser(id, false));\n      });\n  }\n\n  function isDeletingUser(id, loadingDelete) {\n    const newUsers = users.map((p) => [...p]);\n    const index = users.findIndex((user) => user.id === id);\n    newUsers[index].isLoadingDelete = loadingDelete;\n    return newUsers;\n  }\n\n  function handleCreation(data) {\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: data.name,\n        username: data.username,\n        email: data.email,\n        website: data.website,\n        phone: data.phone,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    });\n  }\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <UsersList\n            error={error}\n            setError={setError}\n            loadingUsers={loadingUsers}\n            setLoadingUsers={setLoadingUsers}\n            users={users}\n            setUsers={setUsers}\n            getUsers={getUsers}\n            handleDelete={handleDelete}\n            isDeletingUser={isDeletingUser}\n            handleDetails={handleDetails}\n          />\n        </Route>\n        <Route exact path=\"/create\">\n          <UserForm\n            initialValues={{\n              firstName: \"\",\n              username: \"\",\n              email: \"\",\n              website: \"\",\n              phone: \"\",\n            }}\n            handleSubmit={handleCreation}\n            status=\"create\"\n          />\n        </Route>\n        <Route exact path=\"/details/:id\">\n          <SingleUser\n            key={user.id}\n            user={user}\n            isLoadingDelete={user.isLoadingDelete}\n            handleDelete={handleDelete}\n            initialValues={{\n              name: user.name,\n              username: user.username,\n              email: user.email,\n              website: user.website,\n              phone: user.phone,\n            }}\n            status=\"edit\"\n          />\n          />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}